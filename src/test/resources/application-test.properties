# Test Configuration
# Configurazione per il profilo di test utilizzato da tutti i test dell'applicazione.
# Questo file viene caricato quando @ActiveProfiles("test") è presente nei test.

# Database Configuration
# Utilizza H2 database in-memory per isolare i test dal database di produzione.
# Il database viene creato e distrutto per ogni esecuzione dei test.
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA Configuration for Tests
# create-drop: crea lo schema all'avvio e lo elimina alla chiusura (perfetto per i test)
# show-sql: disabilitato per non intasare i log durante i test
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
# Dialetto SQL: Hibernate rileva automaticamente il dialetto dal driver JDBC (H2 per i test)
# NON è necessario specificare hibernate.dialect esplicitamente (rimuove il warning HHH90000025)
# Se necessario, è possibile forzarlo con: spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Open Session in View: disabilitato per test (coerente con la configurazione di produzione)
spring.jpa.open-in-view=false

# JWT Configuration
# Chiave segreta per test (non utilizzare in produzione!)
# La chiave deve essere abbastanza lunga per soddisfare i requisiti di sicurezza JWT.
jwt.secret=test-secret-key-for-testing-purposes-only-very-long-key-required
jwt.expiration=86400000

# Disable Cloudinary and Mailgun for tests (use @MockBean instead)
# Questi servizi vengono mockati nei test per evitare chiamate reali alle API esterne.
# I valori sono placeholder e non vengono utilizzati quando i servizi sono mockati.
cloudinary.cloud-name=test
cloudinary.api-key=test
cloudinary.api-secret=test
mailgun.api-key=test-api-key
mailgun.domain=test.mailgun.org
mailgun.from-email=noreply@test.com

# Logging
# Livelli di log configurati per ridurre il rumore durante i test
logging.level.com.epicode.Progetto_Backend=INFO
logging.level.org.springframework.security=WARN









